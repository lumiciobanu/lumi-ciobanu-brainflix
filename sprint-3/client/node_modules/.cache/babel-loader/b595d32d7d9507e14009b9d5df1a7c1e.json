{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lumi\\\\Desktop\\\\lumi-ciobanu-brainflix\\\\sprint-3\\\\client\\\\src\\\\components\\\\MainPage\\\\MainPage.js\";\nimport React from 'react';\nimport HeroFeatured from '../HeroFeatured/HeroFeatured';\nimport MainLeft from '../MainLeft/MainLeft';\nimport MainAside from '../MainAside/MainAside';\nimport './MainPage.scss';\nimport axios from 'axios';\n\nclass MainPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      featuredMovie: null,\n      videoList: []\n    };\n  }\n\n  componentDidMount() {\n    let defaultVideoId = \"1af0jruup5gu\";\n\n    if (this.props.match.params.videoId) {\n      defaultVideoId = this.props.match.params.videoId;\n    }\n\n    axios.get(\"/videos\").then(results => {\n      let videos = results.data;\n      axios.get(\"/videos/1af0jruup5gu\").then(results => {\n        this.setState({\n          featuredMovie: results.data,\n          videoList: videos\n        });\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.match.params.videoId !== this.props.match.params.videoId) {\n      axios.get(\"/videos/\" + this.props.match.params.videoId).then(results => {\n        console.log(results);\n        this.setState({\n          featuredMovie: results.data\n        });\n      });\n    }\n  }\n\n  render() {\n    let filteredVideos = this.state.videoList.filter(video => video.id !== this.state.featuredMovie.id);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(HeroFeatured, {\n      video: this.state.featuredMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      className: \"Main\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(MainLeft, {\n      info: this.state.featuredMovie,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(MainAside, {\n      videos: filteredVideos,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }\n    })));\n  }\n\n}\n\nexport default MainPage;","map":{"version":3,"sources":["C:/Users/Lumi/Desktop/lumi-ciobanu-brainflix/sprint-3/client/src/components/MainPage/MainPage.js"],"names":["React","HeroFeatured","MainLeft","MainAside","axios","MainPage","Component","state","featuredMovie","videoList","componentDidMount","defaultVideoId","props","match","params","videoId","get","then","results","videos","data","setState","componentDidUpdate","prevProps","console","log","render","filteredVideos","filter","video","id"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAO,iBAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,MAAMC,QAAN,SAAuBL,KAAK,CAACM,SAA7B,CAAuC;AAAA;AAAA;AAAA,SAEnCC,KAFmC,GAE3B;AACJC,MAAAA,aAAa,EAAE,IADX;AAEJC,MAAAA,SAAS,EAAE;AAFP,KAF2B;AAAA;;AAOnCC,EAAAA,iBAAiB,GAAG;AAEhB,QAAIC,cAAc,GAAG,cAArB;;AACA,QAAI,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAA5B,EAAqC;AACjCJ,MAAAA,cAAc,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAAzC;AACH;;AAEDX,IAAAA,KAAK,CAACY,GAAN,CAAU,SAAV,EACKC,IADL,CACUC,OAAO,IAAI;AACb,UAAIC,MAAM,GAAGD,OAAO,CAACE,IAArB;AAIAhB,MAAAA,KAAK,CAACY,GAAN,CAAU,sBAAV,EACCC,IADD,CACMC,OAAO,IAAI;AAEb,aAAKG,QAAL,CAAc;AACVb,UAAAA,aAAa,EAAEU,OAAO,CAACE,IADb;AAEVX,UAAAA,SAAS,EAAEU;AAFD,SAAd;AAIH,OAPD;AAUC,KAhBT;AAmBH;;AAEDG,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAIA,SAAS,CAACV,KAAV,CAAgBC,MAAhB,CAAuBC,OAAvB,KAAmC,KAAKH,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAA/D,EAAwE;AACpEX,MAAAA,KAAK,CAACY,GAAN,CAAU,aAAW,KAAKJ,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,OAA7C,EAAsDE,IAAtD,CAA2DC,OAAO,IAAI;AAClEM,QAAAA,OAAO,CAACC,GAAR,CAAYP,OAAZ;AACA,aAAKG,QAAL,CAAc;AAAEb,UAAAA,aAAa,EAAEU,OAAO,CAACE;AAAzB,SAAd;AAIH,OAND;AAOH;AACJ;;AAGDM,EAAAA,MAAM,GAAG;AAEL,QAAIC,cAAc,GAAG,KAAKpB,KAAL,CAAWE,SAAX,CAAqBmB,MAArB,CAA4BC,KAAK,IAAIA,KAAK,CAACC,EAAN,KAAa,KAAKvB,KAAL,CAAWC,aAAX,CAAyBsB,EAA3E,CAArB;AAEA,wBACI,uDACI,oBAAC,YAAD;AAAc,MAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWC,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAGI;AAAS,MAAA,SAAS,EAAC,MAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC,aAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI,oBAAC,SAAD;AAAW,MAAA,MAAM,EAAEmB,cAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CAHJ,CADJ;AAUH;;AA9DkC;;AAkEvC,eAAetB,QAAf","sourcesContent":["import React from 'react';\r\nimport HeroFeatured from '../HeroFeatured/HeroFeatured';\r\nimport MainLeft from '../MainLeft/MainLeft';\r\nimport MainAside from '../MainAside/MainAside';\r\nimport './MainPage.scss';\r\nimport axios from 'axios';\r\n\r\n\r\nclass MainPage extends React.Component {\r\n  \r\n    state = {\r\n        featuredMovie: null,\r\n        videoList: []\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let defaultVideoId = \"1af0jruup5gu\";\r\n        if (this.props.match.params.videoId) {\r\n            defaultVideoId = this.props.match.params.videoId\r\n        }\r\n\r\n        axios.get(\"/videos\")\r\n            .then(results => {\r\n                let videos = results.data\r\n                \r\n                \r\n\r\n                axios.get(\"/videos/1af0jruup5gu\")\r\n                .then(results => {\r\n                    \r\n                    this.setState({ \r\n                        featuredMovie: results.data,\r\n                        videoList: videos\r\n                 })\r\n                }\r\n                )\r\n               \r\n                }    \r\n                   ) \r\n                   \r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.match.params.videoId !== this.props.match.params.videoId) {\r\n            axios.get(\"/videos/\"+this.props.match.params.videoId).then(results => {\r\n                console.log(results)\r\n                this.setState({ featuredMovie: results.data\r\n\r\n                })\r\n            \r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        let filteredVideos = this.state.videoList.filter(video => video.id !== this.state.featuredMovie.id)\r\n\r\n        return (\r\n            <>\r\n                <HeroFeatured video={this.state.featuredMovie} />\r\n\r\n                <section className=\"Main\">\r\n                    <MainLeft info={this.state.featuredMovie} />\r\n                    <MainAside videos={filteredVideos} />\r\n                </section>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default MainPage;\r\n"]},"metadata":{},"sourceType":"module"}